define("block_onlineexam/modal-zoom",["core/templates","core/str"],(function(templates){var popupinfotitle="",popupinfocontent="",userlogintime=0,handleClickSmallModal=function(e){e.preventDefault();var originalIframe=e.target.querySelector("iframe");null!==originalIframe||(originalIframe=parent.document.querySelector("iframe")),templates.render("block_onlineexam/modal-iframe",{src:originalIframe.src+"&modalZoom=1",title:""}).done((function(source){var div=document.createElement("div");div.innerHTML=source;var modalContainer=div.firstChild;document.body.insertBefore(modalContainer,document.body.firstChild),document.body.className+=" block_onlineexam_custom-modal-open";var closeCallback=function(){document.body.className=document.body.className.replace(" block_onlineexam_custom-modal-open",""),function(){var myElement=document.getElementById("block_onlineexam_contentframe");if(myElement){var oldsrc=myElement.src;myElement.src="",myElement.src=oldsrc}}(),modalContainer.className+=" fading",setTimeout((function(){null!==modalContainer.parentNode&&modalContainer.parentNode.removeChild(modalContainer)}),250)};modalContainer.querySelector(".block_onlineexam_custom-modal_close-button").addEventListener("click",(function(e){return e.preventDefault(),closeCallback()})),modalContainer.addEventListener("click",(function(e){return e.preventDefault(),e.target===modalContainer&&closeCallback()}))}))};return{init:function(popuptitle,popupcontent,currentlogin){popupinfotitle=popuptitle,popupinfocontent=popupcontent,userlogintime=currentlogin;for(var zoomContainer=document.querySelectorAll("#block_onlineexam_exams_content"),i=0;i<zoomContainer.length;i++)zoomContainer[i].addEventListener("click",handleClickSmallModal);window.EVAEXAM={generatepopupinfo:this.generatepopupinfo},window.evaexamGeneratePopupinfo=this.generatepopupinfo},generatepopupinfo:function(){var popupinfo=sessionStorage.getItem("onlineexam_popupinfo");0!=popupinfo&&null!==popupinfo&&popupinfo==userlogintime||(sessionStorage.setItem("onlineexam_popupinfo",userlogintime),templates.render("block_onlineexam/popupinfo",{title:popupinfotitle,content:popupinfocontent}).done((function(source){var div=document.createElement("div");div.innerHTML=source;var modalContainer=div.firstChild;document.body.insertBefore(modalContainer,document.body.firstChild),document.body.className+=" block_onlineexam_custom-modal-open popupinfo";var closeCallback=function(){document.body.className=document.body.className.replace(" block_onlineexam_custom-modal-open",""),modalContainer.className+=" fading",setTimeout((function(){null!==modalContainer.parentNode&&modalContainer.parentNode.removeChild(modalContainer)}),250)};modalContainer.querySelector(".block_onlineexam_custom-modal_close-button").addEventListener("click",(function(e){return e.preventDefault(),closeCallback()})),modalContainer.addEventListener("click",(function(e){return e.preventDefault(),e.target===modalContainer&&closeCallback()}))})))}}}));

//# sourceMappingURL=modal-zoom.min.js.map